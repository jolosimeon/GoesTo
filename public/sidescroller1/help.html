
<!doctype html>
<html lang="en" class="no-js">
    <head>
        <title>Need for Seed</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">        
        
        <!-- Font Imports -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,100,700,900,500' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700,400italic' rel='stylesheet' type='text/css'>
        
        <!-- From Sbox -->
        <link rel="stylesheet" href="css/reset.css"> <!-- CSS reset -->
        
        <!-- Materialize -->
        <link type="text/css" rel="stylesheet" href="css/mentor-materialize.css"  media="screen,projection"/>	 
        <link rel="stylesheet" href="css/style.css"> <!-- Resource style -->    
        <script src="js/modernizr.js"></script> <!-- Modernizr -->
             
		<script>
		$(document).ready(function() {
		   $("#0").trigger('click');
		});
		</script>
		<style>
			::-webkit-scrollbar {
				width: 12px;
			}

			::-webkit-scrollbar-track {
			
				-webkit-border-radius: 10px;
				background-color:#fff;
				border-radius: 10px;
			}

			::-webkit-scrollbar-thumb {
				-webkit-border-radius: 10px;
				border-radius: 10px;
				background:#2A6D45; 
				-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5); 
			}
		</style>
    </head>

    <body style = "background-image: url(img/4.jpg)">
        <!-- 
            Overlay 
        -->
        <div class="cd-intro-block green-wine">
            <div class="content-wrapper">
					<div class="row">
                        
                        <div class="col s12 m4">
						Recently Added
						</div>
						<div class="col s12 m4">
						Updates
						</div>
						<div class="col s12 m4">
						Completed
						</div>
					</div>
                   
                    <div class="row">
                        
                        <div class="col s12 m4">
							<div id = "recently_added" class="card-panel green" style = "overflow: auto; min-height: 450px; max-height: 450px; ">
								
								<!--div class="card-panel" >
									<font color= "black">Today is the day that He have made.Today is the day that He have made.Today is the day that He have made.Today is the day that He have made.</font>
								</div>
								<div class="card-panel">
									<font color= "black">Today is the day that He have made.</font>
								</div-->
							
							</div>
                        </div>
						 <div class="col s12 m4">
                            <div  id = "updates" class="card-panel green" style = "overflow: hidden; min-height: 450px; max-height: 450px; ">
								<!--div class="card-panel">
									<font color= "black">Today is the day that He have made.Today is the day that He have made.</font>
								</div>
								<div class="card-panel">
									<font color= "black">Today is the day that He have made.</font>
								</div>
								<div class="card-panel">
									<font color= "black">Today is the day that He have made.</font>
								</div-->
							
							</div>
                        </div>
						 <div class="col s12 m4">
                           <div id = "completed" class="card-panel green" style = "overflow: hidden; min-height: 450px; max-height: 450px; ">
								<!--div class="card-panel">
									<font color= "black">Today is the day that He have made.</font>
								</div>
								<div class="card-panel">
									<font color= "black">Today is the day that He have made.</font>
								</div>
								<div class="card-panel">
									<font color= "black">Today is the day that He have made.</font>
								</div>
								<div class="card-panel">
									<font color= "black">Today is the day that He have made.</font>
								</div-->
							</div>
                        </div>
						        
                    </div>  
					<div class="row">
                                    <a href="#0" class="btn-large green-spot" data-action="show-projects">
                                        See Farmer Lists
                                    </a>
                    </div>

            </div>
        </div> <!-- .cd-intro-block -->
        
        <!-- 
            Underlay
        -->
		
        
        <div class="cd-projects-wrapper green-wine-trans">
		    <ul class="cd-slider" id = "farmers">
            </ul>
        
            <ul class="cd-slider-navigation cd-img-replace">
                <li><a href="#0" class="prev inactive">Prev</a></li>
                <li><a href="#0" class="next">Next</a></li>        
            </ul> <!-- .cd-slider-navigation -->	   
        </div> <!-- .cd-projects-wrapper -->
        <script src='https://cdn.firebase.com/js/client/2.3.1/firebase.js'></script>
		
		
        <script src="js/jquery-2.1.4.js"></script>
        <script src="js/jquery.mobile.custom.min.js"></script>
        <script src="js/main.js"></script> <!-- Resource jQuery -->
        <script type="text/javascript" src="js/materialize.min.js"></script>        
        <script src='js/scrollReveal.min.js'></script>     
		<script>
			var refRecent = new Firebase('https://needforseed.firebaseio.com/recently_added');
			refRecent.on('child_added', function(snapshot) {
				var post = snapshot.val();
				var html = '<div class=\"card-panel\">' +
									'<font color= \"black\">' + post.nick_name + ' / ' + post.time_posted +  ' <p> ' + post.story + '</p></font></div>';
				document.querySelector("#recently_added").innerHTML += html;
			});
			
			var refUpdates = new Firebase('https://needforseed.firebaseio.com/updates');
			refUpdates.on('child_added', function(snapshot) {
				var post = snapshot.val();
				var html = '<div class=\"card-panel\">' +
									'<font color= \"black\">' + post.nick_name + ' / ' + post.time_posted + 
									'<div class=\"progress\">' +
									'<div class=\"determinate\" style=\"width: ' + parseFloat(post.raised) / parseFloat(post.goal) * 100 + '%\"></div>' +
									'</div>' +
									' <p> ' + post.story +'</p></font></div>';
				document.querySelector("#updates").innerHTML += html;
			});
			
			var refCompleted = new Firebase('https://needforseed.firebaseio.com/completed');
			refCompleted.on('child_added', function(snapshot) {
				var post = snapshot.val();
				var html = '<div class="card-panel">' +
									'<font color= \"black\">' + post.nick_name + ' / ' + post.time_posted + ' <p> ' + post.story + '</p></font></div>';
				document.querySelector("#completed").innerHTML += html;
			});
			
			
			var ref = new Firebase('https://needforseed.firebaseio.com/farmers');
			var i = 0;
			ref.on('child_added', function(snapshot) {
			var farmer = snapshot.val();
			var length = 200;
			var trimStory = farmer.story.substring(0, length);
			console.log(farmer.full_name);
			var liheader = "";
			if (i == 0) 
				liheader = '<li class=\"current\">';
			else
			   liheader = '<li>';
			var html = liheader +
					   '<a href=\"#0\">' +
					   '<img src=\"' + farmer.img_url + '\" alt=\"project image\" style=\"max-height: 250px; \">' +
					   '<div class=\"project-info\">' +
                            '<h2>' + farmer.full_name + '</h2>' +
							'<div class=\"progress\">' +
									'<div class=\"determinate\" style=\"width: ' + parseFloat(farmer.raised) / parseFloat(farmer.goal) * 100 + '%\"></div>' +
							'</div>' +
							'<p>' + trimStory + '...</p>' +
							'<a href=\"../profile.html?ID=' +  snapshot.name() +'\" class=\"btn-large green-spot\">Help</a>' + 
					   '</div>' +
					   '</a>';
			i++;
			document.querySelector("#farmers").innerHTML += html;
			fixSlider();
			refreshpo();
		});
		
		</script>
    </body>
</html>